{% extends 'base.html.twig' %}

{% block title %}Restaurants{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"/>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="{{ asset('css/admin/adminRestaurantHistory.css') }}" />
{% endblock %}

{% block body %}

<div class="container-fluid pt-5" *ngIf="entity">
  <div class="row">

    <div class="col-12">
      <h1>Historique de commande du restaurant : {{ restaurant.name }}</h1>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="">Dashboard</a></li>
        <li class="breadcrumb-item"><a href="">Restaurant</a></li>
        <li class="breadcrumb-item active">Historique de commande</li>
      </ol>
    </div>
    <div class="col-12" >
       <h2>Commande en cours</h2>
      {% for order in orderEncours %}
        <div class="cart shadow p-3 mb-5 bg-white rounded">
            <div class="cart-content p-4">
            <div class="d-flex align-items-center">
                <div class="id">#{{ order.id }}</div>
                <div class="lend-date"><b>Date :</b></div>
                
                <div class="user">
                <span>{{ oder.user.firstName }} {{ order.user.lastName }}</span>                
                </div>

                <div class="project">
                <span>{{ order.priceTotal }}</span>                
                </div>

            </div>
            </div>
        </div>
    </div>
    {% else %}
        <div class="col-12">
            <div class="cart">
                <div class="cart-content p-4">
                Nothing to display..
                </div>
            </div>
        </div>
    {% endfor %}

    
    <div class="col-12" >
       <h2>Historique des commandes</h2>
      {% for order in orderLivre %}
        <div class="cart shadow p-3 mb-5 bg-white rounded">
            <div class="cart-content p-4">
            <div class="d-flex align-items-center">
                <div class="id">#{{ order.id }}</div>
                <div class="date"><b>Date :</b> {{ order.ordered_at.date }}</div>
                
                <div class="user">
                {# <span>{{ oder.user.name }} {{ oder.user.firstName }}</span>                 #}
                </div>

                <div class="restaurant">
                <span>{{ order.priceTotal }}</span>                
                </div>

            </div>
            </div>
        </div>
    </div>
    {% else %}
        <div class="col-12">
            <div class="cart">
                <div class="cart-content p-4">
                Nothing to display..
                </div>
            </div>
        </div>
    {% endfor %}

  </div>
</div>

<pre>
{{dump(orderLivre)}}
</pre>


{% endblock %}




{# <div class="order">
            

                
                    <table class="table">
                        <thead class="thead" style="background:rgb(252,163,17);">
                            <tr>
                            <th scope="col">Id</th>
                            <th scope="col">Restaurant</th>
                            <th scope="col">User</th>
                            <th scope="col">Total</th>
                            </tr>
                        </thead>
                        
                        <tbody>
                        {% for order in orderEncours %}
                            <tr>
                            <th scope="row">{{order.id}}</th>
                            <td>{{order.restaurant}}</td>
                            <td>{{order.user}}</td>
                            <td>{{order.priceTotal}}</td>
                            </tr>
                            {% else %}
                                <div class="alert alert-danger" role="alert">
                                    No records found
                                </div>
                            {% endfor %}
                        </tbody>
                    </table>
                    

                
                
                <table class="table">
                        <thead class="thead" style="background:rgb(252,163,17);">
                            <tr>
                            <th scope="col">Restaurant</th>
                            <th scope="col">User</th>
                            <th scope="col">Total</th>
                            </tr>
                        </thead>
                        
                        <tbody>
                        {% for order in orderLivre %}
                            <tr>                       
                            <td>{{order.restaurant.name}}</td> 
                            <td>{{order.user.name}}</td>
                            <td>{{order.priceTotal}}</td>
                            </tr>
                            {% else %}
                                <div class="alert alert-danger" role="alert">
                                    No records found
                                </div>
                            {% endfor %}
                        </tbody>
                    </table>
            
            </div> #}